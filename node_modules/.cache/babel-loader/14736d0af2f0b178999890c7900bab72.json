{"ast":null,"code":"var _jsxFileName = \"/home/safouene/Desktop/com-dev/src/layout/components/Edituser.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { UpdateUser } from \"../actions/users\";\n\nfunction Edituser(props) {\n  const [name, setName] = useState(\"\");\n  const [firstName, setfirstName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [userId, setUserId] = useState(\"\");\n  const state = useSelector(state => state.rolesReducer); //pour selectionner tous les roles\n\n  let userList = useSelector(state => state.userReducer); //pour selectioner un utilisateur unique \n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    console.log(\"User List\", userList);\n    let id = props.match.params.id;\n    let selectedUser = userList.find(elm => elm._id == id);\n    setName(selectedUser.name);\n    setfirstName(selectedUser.firstName);\n    setEmail(selectedUser.email);\n    setPhone(selectedUser.phone);\n    setPassword(selectedUser.password);\n    console.log(\"userID \", id);\n    setUserId(id);\n  }, []);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"large text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, \"Update User\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"FirstName\",\n    name: \"firstname\",\n    required: true,\n    value: firstName,\n    onChange: event => {\n      setfirstName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Name\",\n    name: \"name\",\n    required: true,\n    value: name,\n    onChange: event => {\n      setName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Email\",\n    name: \"email\",\n    value: email,\n    onChange: event => {\n      setEmail(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    //type=\"hidden\"\n    type: \"text\",\n    placeholder: \"Password\",\n    name: \"name\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    //type=\"hidden\"\n    type: \"text\",\n    placeholder: \"Phone\",\n    name: \"name\",\n    required: true,\n    value: phone,\n    onChange: event => {\n      setPhone(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    disabled: true,\n    value: role,\n    selec: true,\n    onChange: event => {\n      console.log(event.target[event.target.selectedIndex].getAttribute(\"value\"));\n      setRole(event.target[event.target.selectedIndex].getAttribute(\"value\"));\n    },\n    id: \"role\",\n    class: \"w-full mt-2 px-4 py-2 block rounded bg-gray-200 text-gray-800 border border-gray-300 focus:outline-none focus:bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, \"Role\", \" \"), state.map(elm => /*#__PURE__*/React.createElement(\"option\", {\n    value: elm._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, elm.role)))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary my-1\",\n    onClick: event => {\n      event.preventDefault();\n      let sendData = {\n        name: name,\n        firstName: firstName,\n        email: email,\n        password: password,\n        phone: phone\n      };\n      console.log(\"hello\", userId);\n      dispatch(UpdateUser(sendData, userId));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"btn btn-light my-1\",\n    href: \"dashboard.html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, \"Go Back\"))));\n}\n\nexport default Edituser;","map":{"version":3,"sources":["/home/safouene/Desktop/com-dev/src/layout/components/Edituser.js"],"names":["React","Fragment","useState","useEffect","useSelector","useDispatch","UpdateUser","Edituser","props","name","setName","firstName","setfirstName","email","setEmail","password","setPassword","role","setRole","phone","setPhone","userId","setUserId","state","rolesReducer","userList","userReducer","dispatch","console","log","id","match","params","selectedUser","find","elm","_id","event","target","value","selectedIndex","getAttribute","map","preventDefault","sendData"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { UpdateUser } from \"../actions/users\";\r\nfunction Edituser(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [firstName, setfirstName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [role, setRole] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [userId, setUserId] = useState(\"\");\r\n  const state = useSelector((state) => state.rolesReducer);//pour selectionner tous les roles\r\n  let userList = useSelector((state) => state.userReducer);//pour selectioner un utilisateur unique \r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    console.log(\"User List\", userList);\r\n    let id = props.match.params.id;\r\n    let selectedUser = userList.find((elm) => elm._id == id);\r\n    setName(selectedUser.name);\r\n    setfirstName(selectedUser.firstName);\r\n    setEmail(selectedUser.email);\r\n    setPhone(selectedUser.phone);\r\n    setPassword(selectedUser.password);\r\n    console.log(\"userID \", id);\r\n    setUserId(id);\r\n  }, []);\r\n  return (\r\n    <Fragment>\r\n      <section className=\"container\">\r\n        <h1 className=\"large text-primary\">Update User</h1>\r\n\r\n        <form className=\"form\">\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"FirstName\"\r\n              name=\"firstname\"\r\n              required\r\n              value={firstName}\r\n              onChange={(event) => {\r\n                setfirstName(event.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Name\"\r\n              name=\"name\"\r\n              required\r\n              value={name}\r\n              onChange={(event) => {\r\n                setName(event.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(event) => {\r\n                setEmail(event.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              //type=\"hidden\"\r\n              type=\"text\"\r\n              placeholder=\"Password\"\r\n              name=\"name\"\r\n              disabled\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              //type=\"hidden\"\r\n              type=\"text\"\r\n              placeholder=\"Phone\"\r\n              name=\"name\"\r\n              required\r\n              value={phone}\r\n              onChange={(event) => {\r\n                setPhone(event.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <select\r\n              disabled\r\n              value={role}\r\n              selec\r\n              onChange={(event) => {\r\n                console.log(\r\n                  event.target[event.target.selectedIndex].getAttribute(\"value\")\r\n                );\r\n                setRole(\r\n                  event.target[event.target.selectedIndex].getAttribute(\"value\")\r\n                );\r\n              }}\r\n              id=\"role\"\r\n              class=\"w-full mt-2 px-4 py-2 block rounded bg-gray-200 text-gray-800 border border-gray-300 focus:outline-none focus:bg-white\"\r\n            >\r\n              {\" \"}\r\n              <option selected={true} value=\"\">\r\n                Role{\" \"}\r\n              </option>\r\n              {state.map((elm) => (\r\n                <option value={elm._id}>{elm.role}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <button\r\n            className=\"btn btn-primary my-1\"\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              let sendData = {\r\n                name: name,\r\n                firstName: firstName,\r\n                email: email,\r\n                password: password,\r\n                phone: phone,\r\n              };\r\n              console.log(\"hello\",userId);\r\n              dispatch(UpdateUser(sendData, userId));\r\n            }}\r\n          >\r\n            Save\r\n          </button>\r\n          <a className=\"btn btn-light my-1\" href=\"dashboard.html\">\r\n            Go Back\r\n          </a>\r\n        </form>\r\n      </section>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Edituser;\r\n"]},"metadata":{},"sourceType":"module"}