{"ast":null,"code":"import axios from \"axios\";\nimport { UpdateUser } from \"../actions/users\";\nimport { authUser } from \"../actions/auth\";\nexport const getAllUsers = () => async dispatch => {\n  let result = await axios.get(\"http://localhost:3000/users/allusers\");\n  let data = result.data.users;\n  return dispatch({\n    type: \"GET_ALL_USERS\",\n    data: data\n  });\n};\nexport const getAllDemande = () => async dispatch => {\n  let result = await axios.get(\"http://localhost:3000/demande/getdemande\");\n  return dispatch({\n    type: \"GET_ALL_DEMANDE\",\n    data: result.data.message\n  });\n  authUser();\n};\nexport const getDemandebysalarier = id => async dispatch => {\n  let token = localStorage.getItem(\"token\");\n  let result = await axios.get(`http://localhost:3000/demande/${id}`, {\n    headers: {\n      \"x-access-token\": token\n    }\n  });\n  return dispatch({\n    type: \"GET_DEMANDEBY_SALARIER\",\n    data: result.data.demandes\n  });\n};\nexport const addemande = userData => async dispatch => {\n  console.log(userData);\n  let token = localStorage.getItem(\"token\");\n  dispatch({\n    type: \"ADD_DEMANDE\",\n    data: userData\n  });\n  let result = await axios.post(\"http://localhost:3000/demande/addemande\", userData, {\n    headers: {\n      \"x-access-token\": token\n    }\n  });\n  getAllUsers();\n  getAllDemande();\n};\nexport const switchSateDemande = (iddemande, etat) => async dispatch => {\n  let token = localStorage.getItem(\"token\");\n  dispatch({\n    type: \"UPDATE_DEMANDE\",\n    data: etat\n  });\n  let result = await axios.put(`http://localhost:3000/demande/updatedemande/${iddemande}`, etat, {\n    headers: {\n      \"x-access-token\": token\n    }\n  });\n  UpdateUser();\n  getAllDemande();\n};\nexport const getAllDemandeBySalarier = () => async dispatch => {\n  let id = localStorage.getItem(\"id\");\n  let token = localStorage.getItem(\"token\");\n  let result = axios.get(`http://localhost:3000/demande/${id}`, etat, {\n    headers: {\n      \"x-access-token\": token\n    }\n  });\n};","map":{"version":3,"sources":["/home/safouene/Desktop/com-dev/src/layout/actions/demande.js"],"names":["axios","UpdateUser","authUser","getAllUsers","dispatch","result","get","data","users","type","getAllDemande","message","getDemandebysalarier","id","token","localStorage","getItem","headers","demandes","addemande","userData","console","log","post","switchSateDemande","iddemande","etat","put","getAllDemandeBySalarier"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { UpdateUser } from \"../actions/users\";\r\nimport { authUser } from \"../actions/auth\";\r\nexport const getAllUsers = () => async (dispatch) => {\r\n  let result = await axios.get(\"http://localhost:3000/users/allusers\");\r\n  let data = result.data.users;\r\n  return dispatch({\r\n    type: \"GET_ALL_USERS\",\r\n    data: data,\r\n  });\r\n};\r\n\r\nexport const getAllDemande = () => async (dispatch) => {\r\n  let result = await axios.get(\"http://localhost:3000/demande/getdemande\");\r\n\r\n  return dispatch({\r\n    type: \"GET_ALL_DEMANDE\",\r\n    data: result.data.message,\r\n  });\r\n  authUser();\r\n};\r\nexport const getDemandebysalarier = (id) => async (dispatch) => {\r\n  let token = localStorage.getItem(\"token\");\r\n  let result = await axios.get(`http://localhost:3000/demande/${id}`, {\r\n    headers: {\r\n      \"x-access-token\": token,\r\n    },\r\n  });\r\n\r\n  return dispatch({\r\n    type: \"GET_DEMANDEBY_SALARIER\",\r\n    data: result.data.demandes,\r\n  });\r\n};\r\nexport const addemande = (userData) => async (dispatch) => {\r\n  console.log(userData);\r\n  let token = localStorage.getItem(\"token\");\r\n  dispatch({\r\n    type: \"ADD_DEMANDE\",\r\n    data: userData,\r\n  });\r\n  let result = await axios.post(\r\n    \"http://localhost:3000/demande/addemande\",\r\n    userData,\r\n    {\r\n      headers: {\r\n        \"x-access-token\": token,\r\n      },\r\n    }\r\n  );\r\n  getAllUsers();\r\n  getAllDemande();\r\n};\r\n\r\nexport const switchSateDemande = (iddemande, etat) => async (dispatch) => {\r\n  let token = localStorage.getItem(\"token\");\r\n  dispatch({\r\n    type: \"UPDATE_DEMANDE\",\r\n    data: etat,\r\n  });\r\n  let result = await axios.put(\r\n    `http://localhost:3000/demande/updatedemande/${iddemande}`,\r\n    etat,\r\n    {\r\n      headers: {\r\n        \"x-access-token\": token,\r\n      },\r\n    }\r\n  );\r\n  UpdateUser();\r\n  getAllDemande();\r\n};\r\n\r\nexport const getAllDemandeBySalarier = () => async (dispatch) => {\r\n  let id = localStorage.getItem(\"id\");\r\n  let token = localStorage.getItem(\"token\");\r\n\r\n  let result = axios.get(`http://localhost:3000/demande/${id}`, etat, {\r\n    headers: {\r\n      \"x-access-token\": token,\r\n    },\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}