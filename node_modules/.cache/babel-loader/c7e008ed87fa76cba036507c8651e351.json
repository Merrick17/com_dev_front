{"ast":null,"code":"var _jsxFileName = \"/home/safouene/Desktop/com-dev/src/layout/components/ListDemande.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory, useRouteMatch, Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllDemande, switchSateDemande } from \"../../layout/actions/demande\";\nimport Moment from \"react-moment\";\nimport \"moment-timezone\";\n\nfunction ListDemande() {\n  const [userList, setUsersList] = useState([]);\n  const history = useHistory(); // instance au navigation d'utilisateur\n\n  const match = useRouteMatch(); // permet d'extraire le lien courant\n\n  const dispatcher = useDispatch(); // permet d'exectuer les actions de reducer pour modifier l'etat\n\n  const state = useSelector(state => state); // permet d'acces à tous l'etat( données ) depuis n'importe quel emplacement\n\n  useEffect(() => {\n    // useEffect permet d'execctuer une tache lors de l'initialisation de l'interface\n    dispatcher(getAllDemande());\n    console.log(state.demandeReducer); //appel\n\n    console.log(\"All State\", state); //setUsersList(state.userReducer);\n  }, []);\n  /* const verifStatus = (id) => {\r\n     if (id == 0) {\r\n       return \"En Attente\";\r\n     } else if (id == 1) {\r\n       return \"Accepter\";\r\n     } else {\r\n       return \"Refusé \";\r\n     }\r\n   };*/\n\n  const displayBtns = elm => {\n    if (elm.status == 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => {\n          dispatcher(switchSateDemande(elm._id, {\n            newstatus: 1\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }\n      }, \"Accepter\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: () => {\n          dispatcher(switchSateDemande(elm._id, {\n            newstatus: 2\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      }, \"Refuser\"));\n    } else if (elm.status == 1) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 14\n        }\n      }, \"Accepter\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 14\n        }\n      }, \"Refus\\xE9\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"css/style.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, \"Welcome To \"), /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"navbar bg-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"index.html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), \" DevConnector\")), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"addemande\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Add Demande\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"home\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"|\", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"dashboard.html\",\n    title: \"Dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, \"Dashboard\"))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"login.html\",\n    title: \"Logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-sign-out-alt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"Logout\"))))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"large text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"Dashboard\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dash-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"adduser\",\n    className: \"btn btn-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user-circle text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), \" Add User\")), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, \"ListUser\"), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Comment\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, \"Salarier\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, \"Date_Depart\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, \"Date_Retour\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, \"Nombre de Jour\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, \"Etats\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, state.demandeReducer.map(elm => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, elm.name), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, elm.comment), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }, elm.salarier != null ? elm.salarier.name : \"\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }), elm.salarier != null ? elm.salarier.firstName : \"\"), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Moment, {\n      date: elm.date_depart,\n      format: \"DD/MM/YYYY\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Moment, {\n      date: elm.date_retour,\n      format: \"DD/MM/YYYY\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 19\n      }\n    }, elm.nbrJrs), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 19\n      }\n    }, displayBtns(elm)));\n  })))));\n}\n\nexport default ListDemande;","map":{"version":3,"sources":["/home/safouene/Desktop/com-dev/src/layout/components/ListDemande.js"],"names":["React","useState","useEffect","useHistory","useRouteMatch","Link","useDispatch","useSelector","getAllDemande","switchSateDemande","Moment","ListDemande","userList","setUsersList","history","match","dispatcher","state","console","log","demandeReducer","displayBtns","elm","status","_id","newstatus","map","name","comment","salarier","firstName","date_depart","date_retour","nbrJrs"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, useRouteMatch, Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllDemande, switchSateDemande } from \"../../layout/actions/demande\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment-timezone\";\r\nfunction ListDemande() {\r\n  const [userList, setUsersList] = useState([]);\r\n  const history = useHistory(); // instance au navigation d'utilisateur\r\n  const match = useRouteMatch(); // permet d'extraire le lien courant\r\n  const dispatcher = useDispatch(); // permet d'exectuer les actions de reducer pour modifier l'etat\r\n  const state = useSelector((state) => state); // permet d'acces à tous l'etat( données ) depuis n'importe quel emplacement\r\n  useEffect(() => {\r\n    // useEffect permet d'execctuer une tache lors de l'initialisation de l'interface\r\n    dispatcher(getAllDemande());\r\n    console.log(state.demandeReducer); //appel\r\n    console.log(\"All State\", state);\r\n\r\n    //setUsersList(state.userReducer);\r\n  }, []);\r\n /* const verifStatus = (id) => {\r\n    if (id == 0) {\r\n      return \"En Attente\";\r\n    } else if (id == 1) {\r\n      return \"Accepter\";\r\n    } else {\r\n      return \"Refusé \";\r\n    }\r\n  };*/\r\n\r\n  const displayBtns = (elm) => {\r\n    if (elm.status == 0) {\r\n      return (\r\n        <div>\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            onClick={() => {\r\n              dispatcher(\r\n                switchSateDemande(elm._id, {\r\n                  newstatus: 1,\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            Accepter\r\n          </button>\r\n          <br></br>\r\n          <button\r\n            className=\"btn btn-danger\"\r\n            onClick={() => {\r\n              dispatcher(\r\n                switchSateDemande(elm._id, {\r\n                  newstatus: 2,\r\n                })\r\n              );\r\n            }}\r\n          >\r\n            Refuser\r\n          </button>\r\n        </div>\r\n      );\r\n    } else if (elm.status == 1) {\r\n      return <p className=\"text-success\">Accepter</p>;\r\n    } else {\r\n      return <p className=\"text-danger\">Refusé</p>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <link rel=\"stylesheet\" href=\"css/style.css\" />\r\n      <title>Welcome To </title>\r\n      <nav className=\"navbar bg-dark\">\r\n        <h1>\r\n          <a href=\"index.html\">\r\n            <i className=\"fas fa-code\" /> DevConnector\r\n          </a>\r\n        </h1>\r\n        <ul>\r\n          <li>\r\n            <Link to=\"addemande\">Add Demande</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/admin\">home</Link>\r\n          </li>\r\n          <li>\r\n            |\r\n            <a href=\"dashboard.html\" title=\"Dashboard\">\r\n              <i className=\"fas fa-user\" />\r\n              <span className=\"hide-sm\">Dashboard</span>\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href=\"login.html\" title=\"Logout\">\r\n              <i className=\"fas fa-sign-out-alt\" />\r\n              <span className=\"hide-sm\">Logout</span>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n      <section className=\"container\">\r\n        <h1 className=\"large text-primary\">Dashboard</h1>\r\n        <p className=\"lead\">\r\n          {/*state.userReducer.map((elm) => (\r\n          <i className=\"fas fa-user\" > Welcome {elm.firstName} \r\n          </i>\r\n        ))*/}\r\n        </p>\r\n        <div className=\"dash-buttons\">\r\n          <Link to=\"adduser\" className=\"btn btn-light\">\r\n            <i className=\"fas fa-user-circle text-primary\" /> Add User\r\n          </Link>\r\n        </div>\r\n        <h2 className=\"my-2\">ListUser</h2>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"hide-sm\">Name</th>\r\n              <th className=\"hide-sm\">Comment</th>\r\n              <th className=\"hide-sm\">Salarier</th>\r\n              <th className=\"hide-sm\">Date_Depart</th>\r\n              <th className=\"hide-sm\">Date_Retour</th>\r\n              <th className=\"hide-sm\">Nombre de Jour</th>\r\n              <th className=\"hide-sm\">Etats</th>\r\n\r\n              <th />\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {state.demandeReducer.map((elm) => {\r\n              return (\r\n                <tr>\r\n                  <td className=\"hide-sm\">{elm.name}</td>\r\n                  <td className=\"hide-sm\">{elm.comment}</td>\r\n                  <td className=\"hide-sm\">\r\n                    {elm.salarier != null ? elm.salarier.name : \"\"}\r\n                    <br></br>\r\n                    {elm.salarier != null ? elm.salarier.firstName : \"\"}\r\n                  </td>\r\n                  <td className=\"hide-sm\">\r\n                    {\" \"}\r\n                    <Moment date={elm.date_depart} format=\"DD/MM/YYYY\" />\r\n                  </td>\r\n                  <td className=\"hide-sm\">\r\n                    {\" \"}\r\n                    <Moment date={elm.date_retour} format=\"DD/MM/YYYY\" />\r\n                  </td>\r\n                  <td className=\"hide-sm\">{elm.nbrJrs}</td>\r\n                  {/* <td className=\"hide-sm\">{verifStatus(elm.status)}</td> */}\r\n                  <td>\r\n                    {/* <button\r\n                      className=\"btn btn-primary\"\r\n                      onClick={() => {\r\n                        dispatcher(\r\n                          switchSateDemande(elm._id, {\r\n                            newStatus: 1,\r\n                          })\r\n                        );\r\n                      }}\r\n                    >\r\n                      Accepter\r\n                    </button>\r\n                    <br></br>\r\n                    <button\r\n                      className=\"btn btn-danger\"\r\n                      onClick={() => {\r\n                        dispatcher(\r\n                          switchSateDemande(elm._id, {\r\n                            newStatus: 2,\r\n                          })\r\n                        );\r\n                      }}\r\n                    >\r\n                      Refuser\r\n                    </button> */}\r\n                    {\r\n                      displayBtns(elm)\r\n                    }\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListDemande;\r\n"]},"metadata":{},"sourceType":"module"}