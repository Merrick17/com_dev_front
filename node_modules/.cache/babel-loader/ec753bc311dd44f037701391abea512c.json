{"ast":null,"code":"var _jsxFileName = \"/home/safouene/Desktop/com-dev/src/layout/user/Userprofile.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, useRouteMatch, Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllUsers, deleteUser, getUser } from \"../actions/users\";\nimport { getAllRoles } from \"../actions/roles\";\nimport { logoutUser } from \"../actions/auth\";\n\nconst Userprofile = () => {\n  const [userList, setUsersList] = useState([]);\n  const history = useHistory(); // instance au navigation d'utilisateur\n\n  const match = useRouteMatch(); // permet d'extraire le lien courant\n\n  const dispatcher = useDispatch(); // permet d'exectuer les actions de reducer pour modifier l'etat\n\n  const state = useSelector(state => state); // permet d'acces à tous l'etat( données ) depuis n'importe quel emplacement\n\n  useEffect(() => {\n    // useEffect permet d'execctuer une tache lors de l'initialisation de l'interface\n    dispatcher(getUser(state._id));\n    console.log(state.userReducer); //appel\n\n    console.log(\"All State\", state); //setUsersList(state.userReducer);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"link\", {\n    rel: \"stylesheet\",\n    href: \"css/style.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, \"Welcome To \"), /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"navbar bg-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"index.html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }), \" DevConnector\")), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"addemande\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, \"Add Demande\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"posts.html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \"Posts\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"|\", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"dashboard.html\",\n    title: \"Dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, \"Dashboard\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, state.authReducer.auth ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: () => {\n      dispatcher(logoutUser());\n      history.replace('/');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, \"Logout\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"large text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"My Profile\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dash-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"adduser\",\n    className: \"btn btn-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user-circle text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }), \" Add User\")), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"ListUser\"), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \"FirstName\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"Solde\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"hide-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, state.userReducer.map(elm => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }, elm.name), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }, elm.firstName), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, elm.email), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    }, elm.phone), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }\n    }, elm.role != undefined ? elm.role.role : \"undefined\"), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"hide-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    }, elm.soldeConge), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => {\n        history.push(`edituser/${elm._id}`);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => {\n        dispatcher(deleteUser(elm._id));\n        dispatcher(getAllUsers());\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, \"Delete\")));\n  })))));\n};\n\nexport default Userprofile;","map":{"version":3,"sources":["/home/safouene/Desktop/com-dev/src/layout/user/Userprofile.js"],"names":["React","useState","useEffect","axios","useHistory","useRouteMatch","Link","useDispatch","useSelector","getAllUsers","deleteUser","getUser","getAllRoles","logoutUser","Userprofile","userList","setUsersList","history","match","dispatcher","state","_id","console","log","userReducer","authReducer","auth","replace","map","elm","name","firstName","email","phone","role","undefined","soldeConge","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory, useRouteMatch, Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllUsers, deleteUser, getUser } from \"../actions/users\";\r\nimport { getAllRoles } from \"../actions/roles\";\r\nimport { logoutUser } from \"../actions/auth\";\r\nconst Userprofile = () => {\r\n  const [userList, setUsersList] = useState([]);\r\n  const history = useHistory(); // instance au navigation d'utilisateur\r\n  const match = useRouteMatch(); // permet d'extraire le lien courant\r\n  const dispatcher = useDispatch(); // permet d'exectuer les actions de reducer pour modifier l'etat\r\n  const state = useSelector((state) => state); // permet d'acces à tous l'etat( données ) depuis n'importe quel emplacement\r\n  useEffect(() => {\r\n    // useEffect permet d'execctuer une tache lors de l'initialisation de l'interface\r\n    dispatcher(getUser(state._id));\r\n    console.log(state.userReducer); //appel\r\n    console.log(\"All State\", state);\r\n\r\n    //setUsersList(state.userReducer);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <link rel=\"stylesheet\" href=\"css/style.css\" />\r\n      <title>Welcome To </title>\r\n      <nav className=\"navbar bg-dark\">\r\n        <h1>\r\n          <a href=\"index.html\">\r\n            <i className=\"fas fa-code\" /> DevConnector\r\n          </a>\r\n        </h1>\r\n        <ul>\r\n          <li>\r\n            <Link to=\"addemande\">Add Demande</Link>\r\n          </li>\r\n          <li>\r\n            <a href=\"posts.html\">Posts</a>\r\n          </li>\r\n          <li>\r\n            |\r\n            <a href=\"dashboard.html\" title=\"Dashboard\">\r\n              <i className=\"fas fa-user\" />\r\n              <span className=\"hide-sm\">Dashboard</span>\r\n            </a>\r\n          </li>\r\n          <div>\r\n          <div class=\"hidden md:block\"></div>\r\n        </div>\r\n        <div >\r\n          {state.authReducer.auth ? (\r\n            <div>\r\n              <button  className=\"btn btn-primary\"\r\n                 onClick={()=>{\r\n                   dispatcher(logoutUser()); \r\n                   history.replace('/'); \r\n                 }}\r\n               \r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {\" \"}\r\n              <Link\r\n                to=\"/login\"\r\n               \r\n              >\r\n               \r\n              </Link>\r\n              \r\n            </div>\r\n            )}\r\n            </div>\r\n            \r\n        </ul>\r\n        \r\n      </nav>\r\n      \r\n      <section className=\"container\">\r\n        <h1 className=\"large text-primary\">My Profile</h1>\r\n        <p className=\"lead\">\r\n          {/*state.userReducer.map((elm) => (\r\n          <i className=\"fas fa-user\" > Welcome {elm.firstName} \r\n          </i>\r\n        ))*/}\r\n        </p>\r\n        <div className=\"dash-buttons\">\r\n          <Link to=\"adduser\" className=\"btn btn-light\">\r\n            <i className=\"fas fa-user-circle text-primary\" /> Add User\r\n          </Link>\r\n        </div>\r\n        <h2 className=\"my-2\">ListUser</h2>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th className=\"hide-sm\">FirstName</th>\r\n              <th className=\"hide-sm\">Email</th>\r\n              <th className=\"hide-sm\">Phone</th>\r\n              <th className=\"hide-sm\">Role</th>\r\n              <th className=\"hide-sm\">Solde</th>\r\n              <th className=\"hide-sm\">Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {state.userReducer.map((elm) => {\r\n              return (\r\n                <tr>\r\n                  <td>{elm.name}</td>\r\n                  <td className=\"hide-sm\">{elm.firstName}</td>\r\n                  <td className=\"hide-sm\">{elm.email}</td>\r\n                  <td className=\"hide-sm\">{elm.phone}</td>\r\n                  \r\n                  <td className=\"hide-sm\">\r\n                    {elm.role != undefined ? elm.role.role : \"undefined\"}\r\n                  </td>\r\n                  <td className=\"hide-sm\">{elm.soldeConge}</td>\r\n                  <td>\r\n                    {/* <Link to={`edituser/${elm._id}`}>Edit</Link> */}\r\n                    <button\r\n                      className=\"btn btn-primary\"\r\n                      onClick={() => {\r\n                        history.push(`edituser/${elm._id}`);\r\n                      }}\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-danger\"\r\n                      onClick={() => {\r\n                        dispatcher(deleteUser(elm._id));\r\n                        dispatcher(getAllUsers());\r\n                      }}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Userprofile;\r\n"]},"metadata":{},"sourceType":"module"}